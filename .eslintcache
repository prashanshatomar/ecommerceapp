[{"C:\\Users\\astrea\\Desktop\\test\\ecommerceapp\\src\\index.js":"1","C:\\Users\\astrea\\Desktop\\test\\ecommerceapp\\src\\App.js":"2","C:\\Users\\astrea\\Desktop\\test\\ecommerceapp\\src\\reportWebVitals.js":"3","C:\\Users\\astrea\\Desktop\\test\\ecommerceapp\\src\\store\\reducre.js":"4","C:\\Users\\astrea\\Desktop\\test\\ecommerceapp\\src\\Components\\Cart.js":"5","C:\\Users\\astrea\\Desktop\\test\\ecommerceapp\\src\\Components\\ViewProducts.js":"6","C:\\Users\\astrea\\Desktop\\test\\ecommerceapp\\src\\Components\\AddProduct.js":"7","C:\\Users\\astrea\\Desktop\\test\\ecommerceapp\\src\\store\\action.js":"8"},{"size":794,"mtime":1609359344035,"results":"9","hashOfConfig":"10"},{"size":646,"mtime":1609356649625,"results":"11","hashOfConfig":"10"},{"size":362,"mtime":1606911889804,"results":"12","hashOfConfig":"10"},{"size":774,"mtime":1609413804470,"results":"13","hashOfConfig":"10"},{"size":1422,"mtime":1609361529813,"results":"14","hashOfConfig":"10"},{"size":4699,"mtime":1609360552957,"results":"15","hashOfConfig":"10"},{"size":2946,"mtime":1609407843973,"results":"16","hashOfConfig":"10"},{"size":312,"mtime":1609406894714,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"355zij",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"20"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"C:\\Users\\astrea\\Desktop\\test\\ecommerceapp\\src\\index.js",[],["37","38"],"C:\\Users\\astrea\\Desktop\\test\\ecommerceapp\\src\\App.js",[],"C:\\Users\\astrea\\Desktop\\test\\ecommerceapp\\src\\reportWebVitals.js",[],"C:\\Users\\astrea\\Desktop\\test\\ecommerceapp\\src\\store\\reducre.js",[],"C:\\Users\\astrea\\Desktop\\test\\ecommerceapp\\src\\Components\\Cart.js",[],"C:\\Users\\astrea\\Desktop\\test\\ecommerceapp\\src\\Components\\ViewProducts.js",["39","40"],"import React, { Component } from \"react\";\r\n// import ReactTable from \"react-table\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { addToCart } from \"../store/action\";\r\n\r\nclass ViewProducts extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      data: [\r\n        {\r\n          name: \"priducn11dddvffgdgdd\",\r\n          disocunt: \"20\",\r\n          price: \"1000\",\r\n        },\r\n      ],\r\n\r\n      columns: [\r\n        {\r\n          Name: \"Name\",\r\n          accessor: \"name\",\r\n        },\r\n        {\r\n          Price: \"Price\",\r\n          accessor: \"price\",\r\n        },\r\n        {\r\n          Discount: \"Discount\",\r\n          accessor: \"discount\",\r\n        },\r\n      ],\r\n      edit: false,\r\n      cart: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getProducts();\r\n  }\r\n  getProducts = () => {\r\n    axios.get(`http://localhost:3000/`).then((res) => {\r\n      console.log(\"call api from frontend\", res);\r\n      // console.log(res.data.payload);\r\n      this.setState({\r\n        data: res.data.payload,\r\n      });\r\n    });\r\n  };\r\n  sortData = (keyName, keyValue) => {\r\n    axios\r\n      .post(`http://localhost:3000/sort`, { keyName, keyValue })\r\n      .then((res) => {\r\n        console.log(\"call api from frontend\");\r\n        console.log(res.data.payload);\r\n        this.setState({\r\n          data: res.data.payload,\r\n        });\r\n      });\r\n  };\r\n  deleteProduct = (id) => {\r\n    axios\r\n      .delete(`http://localhost:3000/${id}`)\r\n      .then((res) => {\r\n        console.log(\"delete \", res);\r\n        alert(\"Delete success\");\r\n        this.getProducts();\r\n      })\r\n      .catch((e) => {\r\n        alert(\"Delete error\");\r\n      });\r\n  };\r\n\r\n  addToCart = (val) => {\r\n    let { cart } = this.state;\r\n    var newCart = cart;\r\n    // this.setState({\r\n    //   cart: [...cart, { ...val, quantity: 1 }],\r\n    // });\r\n    let count = 0;\r\n\r\n    cart.forEach((v) => {\r\n      if (v._id === val._id) {\r\n        count = count + 1;\r\n      }\r\n    });\r\n    if (count > 0) {\r\n      this.setState({ cart: [...cart, { ...val, quantity: count }] });\r\n    } else {\r\n      this.setState({ cart: [...cart, { ...val, quantity: 1 }] });\r\n    }\r\n    // console.log(\"new cart -- > \", newCart);\r\n    this.props.addToCart({ ...val, quantity: 1 });\r\n    // this.setState({ cart: newCart });\r\n  };\r\n  render() {\r\n    let { data, cart } = this.state;\r\n    console.log(\"car t data values --> \", this.state.cart);\r\n    return (\r\n      <div>\r\n        <h1>View Product</h1>\r\n        <Link to=\"/add\">Add Product</Link> <br />\r\n        <Link to=\"/cart\">View Cart</Link>\r\n        <table>\r\n          <thead>\r\n            <th>Product Name</th>\r\n            <th>\r\n              Price{\" \"}\r\n              <button\r\n                onClick={() => {\r\n                  this.sortData(\"price\", 1);\r\n                }}\r\n              >\r\n                Sort asc\r\n              </button>{\" \"}\r\n              <button\r\n                onClick={() => {\r\n                  this.sortData(\"price\", -1);\r\n                }}\r\n              >\r\n                Sort asc\r\n              </button>\r\n            </th>\r\n            <th>\r\n              Discount\r\n              <button\r\n                onClick={() => {\r\n                  this.sortData(\"discount\", 1);\r\n                }}\r\n              >\r\n                Sort asc\r\n              </button>{\" \"}\r\n              <button\r\n                onClick={() => {\r\n                  this.sortData(\"discount\", -1);\r\n                }}\r\n              >\r\n                Sort asc\r\n              </button>\r\n            </th>\r\n          </thead>\r\n          <tbody>\r\n            {data?.length &&\r\n              data.map((val, i) => (\r\n                <tr key={i}>\r\n                  <td>{val.name}</td>\r\n                  <td>{val.price}</td>\r\n                  <td>{val.discount}</td>\r\n                  <td>\r\n                    <button onClick={() => this.deleteProduct(val._id)}>\r\n                      Delete\r\n                    </button>\r\n                  </td>\r\n                  <td>\r\n                    <Link to={`/edit/${val._id}`}>Update</Link>\r\n                  </td>\r\n                  <td>\r\n                    <button onClick={() => this.addToCart(val)}>\r\n                      Add to Cart\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  ...state,\r\n});\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  addToCart: (data) => dispatch(addToCart(data)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ViewProducts);\r\n","C:\\Users\\astrea\\Desktop\\test\\ecommerceapp\\src\\Components\\AddProduct.js",[],"C:\\Users\\astrea\\Desktop\\test\\ecommerceapp\\src\\store\\action.js",[],["41","42"],{"ruleId":"43","replacedBy":"44"},{"ruleId":"45","replacedBy":"46"},{"ruleId":"47","severity":1,"message":"48","line":78,"column":9,"nodeType":"49","messageId":"50","endLine":78,"endColumn":16},{"ruleId":"47","severity":1,"message":"51","line":99,"column":17,"nodeType":"49","messageId":"50","endLine":99,"endColumn":21},{"ruleId":"43","replacedBy":"52"},{"ruleId":"45","replacedBy":"53"},"no-native-reassign",["54"],"no-negated-in-lhs",["55"],"no-unused-vars","'newCart' is assigned a value but never used.","Identifier","unusedVar","'cart' is assigned a value but never used.",["54"],["55"],"no-global-assign","no-unsafe-negation"]